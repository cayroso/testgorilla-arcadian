{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ViewComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"h4\");\n    i0.ɵɵtext(3, \" View \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 7)(5, \"div\")(6, \"a\", 8);\n    i0.ɵɵelement(7, \"span\", 9);\n    i0.ɵɵtext(8, \"Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ViewComponent_div_0_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteTransaction(ctx_r6.transaction));\n    });\n    i0.ɵɵelement(10, \"span\", 11);\n    i0.ɵɵtext(11, \"Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 12);\n    i0.ɵɵelement(13, \"span\", 13);\n    i0.ɵɵtext(14, \"Back \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/edit/\", ctx_r0.transaction.id, \"\");\n  }\n}\nfunction ViewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\nfunction ViewComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 14)(2, \"div\");\n    i0.ɵɵelement(3, \"span\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.errorMessage, \" \");\n  }\n}\nfunction ViewComponent_ng_template_5_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ViewComponent_ng_template_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 18)(2, \"div\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 20);\n    i0.ɵɵtext(5, \"Transaction Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 21)(7, \"div\")(8, \"div\", 18)(9, \"div\", 22);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 23);\n    i0.ɵɵtext(12, \"Cost\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\")(14, \"div\", 18)(15, \"div\", 24);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"label\", 25);\n    i0.ɵɵtext(18, \"Date\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.transaction.name, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.currencyFormatter.format(ctx_r9.transaction.cost), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.dateFormatter.format(ctx_r9.transaction.date), \" \");\n  }\n}\nfunction ViewComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ViewComponent_ng_template_5_p_1_Template, 3, 0, \"p\", 17);\n    i0.ɵɵtemplate(2, ViewComponent_ng_template_5_div_2_Template, 19, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.transaction);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.transaction);\n  }\n}\nexport class ViewComponent {\n  constructor(http, activatedRoute) {\n    this.http = http;\n    this.activatedRoute = activatedRoute;\n    this.currencyFormatter = new Intl.NumberFormat('en-PH', {\n      style: 'currency',\n      currency: 'PHP'\n    });\n    this.dateFormatter = new Intl.DateTimeFormat('en-PH');\n  }\n  ngOnInit() {\n    this.activatedRoute.paramMap.subscribe(params => {\n      const id = params.get(\"id\");\n      this.http.get(`/api/transaction/getbyid/${id}`).subscribe(result => {\n        this.transaction = result;\n        this.transaction.date = new Date(this.transaction.date);\n      }, error => {\n        this.errorMessage = error.error;\n        console.error(error);\n      });\n    });\n  }\n  deleteTransaction() {\n    if (this.transaction == null) return;\n    const ok = confirm(`Are you sure you want to delete transaction [${this.transaction.name}]`);\n    if (!ok) return;\n    this.http.delete(`/api/transaction/delete/${this.transaction.id}`).subscribe(result => {\n      if (this.transaction != null) alert(`Transaction [${this.transaction.name}] record deleted.`);\n    }, error => console.error(error));\n  }\n}\nViewComponent.ɵfac = function ViewComponent_Factory(t) {\n  return new (t || ViewComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewComponent,\n  selectors: [[\"app-view\"]],\n  decls: 7,\n  vars: 4,\n  consts: [[\"class\", \"row align-items-center\", 4, \"ngIf\"], [1, \"mt-2\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"hasError\", \"\"], [\"noError\", \"\"], [1, \"row\", \"align-items-center\"], [1, \"col\"], [1, \"col-auto\"], [1, \"btn\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"fas\", \"fa-fw\", \"fa-edit\", \"me-1\"], [1, \"ms-1\", \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"fas\", \"fa-fw\", \"fa-trash\", \"me-1\"], [\"routerLink\", \"/\", 1, \"ms-2\", \"btn\", \"btn-outline-secondary\"], [1, \"fas\", \"fa-fw\", \"fa-undo\", \"me-1\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"d-flex\", \"align-items-center\"], [1, \"fas\", \"fa-fw\", \"fa-triangle-exclamation\"], [1, \"ms-2\"], [4, \"ngIf\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"readonly\", \"\", 1, \"form-control\"], [\"for\", \"name\"], [1, \"row\", \"row-cols-sm-2\"], [\"type\", \"number\", \"id\", \"cost\", \"name\", \"cost\", \"readonly\", \"\", 1, \"form-control\"], [\"for\", \"cost\"], [\"type\", \"date\", \"id\", \"date\", \"name\", \"date\", \"readonly\", \"\", 1, \"form-control\"], [\"for\", \"date\"]],\n  template: function ViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ViewComponent_div_0_Template, 15, 1, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtemplate(2, ViewComponent_div_2_Template, 1, 0, \"div\", 2);\n      i0.ɵɵtemplate(3, ViewComponent_ng_template_3_Template, 6, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(5, ViewComponent_ng_template_5_Template, 3, 2, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(4);\n      const _r4 = i0.ɵɵreference(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.transaction);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage)(\"ngIfThen\", _r2)(\"ngIfElse\", _r4);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","ViewComponent","constructor","http","activatedRoute","Intl","NumberFormat","style","currency","DateTimeFormat","ngOnInit","paramMap","subscribe","params","id","get","result","transaction","date","Date","error","errorMessage","console","deleteTransaction","ok","confirm","name","delete","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\christopherayroso\\source\\repos\\testgorilla-arcadian\\src\\WebApiAngular\\ClientApp\\src\\app\\view\\view.component.html","C:\\Users\\christopherayroso\\source\\repos\\testgorilla-arcadian\\src\\WebApiAngular\\ClientApp\\src\\app\\view\\view.component.ts"],"sourcesContent":["<div *ngIf=\"transaction\" class=\"row align-items-center\">\r\n  <div class=\"col\">\r\n    <h4>\r\n      View\r\n    </h4>\r\n  </div>\r\n  <div class=\"col-auto\">\r\n    <div>\r\n\r\n      <a routerLink=\"/edit/{{transaction.id}}\" class=\"btn btn-outline-primary\">\r\n        <span class=\"fas fa-fw fa-edit me-1\"></span>Edit\r\n      </a>\r\n      <button (click)=\"deleteTransaction(transaction)\" class=\"ms-1 btn btn-sm btn-outline-primary\">\r\n        <span class=\"fas fa-fw fa-trash me-1\"></span>Delete\r\n      </button>\r\n      <a routerLink=\"/\" class=\"ms-2 btn btn-outline-secondary\">\r\n        <span class=\"fas fa-fw fa-undo me-1\"></span>Back\r\n      </a>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class=\"mt-2\">\r\n  <div *ngIf=\"errorMessage; then hasError; else noError\">\r\n  </div>\r\n\r\n  <ng-template #hasError>\r\n    <div>\r\n      <div class=\"alert alert-danger d-flex align-items-center\" role=\"alert\">\r\n        <div>\r\n          <span class=\"fas fa-fw fa-triangle-exclamation\"></span>\r\n        </div>\r\n        <div class=\"ms-2\">\r\n          {{ errorMessage }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template #noError>\r\n    <div>\r\n      <p *ngIf=\"!transaction\"><em>Loading...</em></p>\r\n      <div *ngIf=\"transaction\">\r\n        <div class=\"form-floating mb-3\">\r\n          <div type=\"text\" id=\"name\" name=\"name\" class=\"form-control\" readonly>\r\n            {{transaction.name}}\r\n          </div>\r\n          <label for=\"name\">Transaction Name</label>\r\n        </div>\r\n\r\n        <div class=\"row row-cols-sm-2\">\r\n          <div>\r\n            <div class=\"form-floating mb-3\">\r\n              <div type=\"number\" id=\"cost\" name=\"cost\" class=\"form-control\" readonly>\r\n                {{ currencyFormatter.format(transaction.cost)}}\r\n              </div>\r\n              <label for=\"cost\">Cost</label>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"form-floating mb-3\">\r\n              <div type=\"date\" id=\"date\" name=\"date\" class=\"form-control\" readonly>\r\n                {{ dateFormatter.format(transaction.date) }}\r\n              </div>\r\n              <label for=\"date\">Date</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n\r\n\r\n</div>\r\n","import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ITransaction } from '../models/Transaction';\r\n\r\n@Component({\r\n  selector: 'app-view',\r\n  templateUrl: './view.component.html'\r\n})\r\nexport class ViewComponent {\r\n  public transaction?: ITransaction;\r\n  public id?: string;\r\n  public errorMessage?: string;\r\n\r\n  constructor(private http: HttpClient, private activatedRoute: ActivatedRoute) { }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.paramMap.subscribe(params => {\r\n      const id = params.get(\"id\");\r\n\r\n      this.http.get<ITransaction>(`/api/transaction/getbyid/${id}`).subscribe(result => {\r\n        this.transaction = result;\r\n        this.transaction.date = new Date(this.transaction.date);\r\n      }, error => {\r\n        this.errorMessage = error.error;\r\n        console.error(error);\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  public currencyFormatter = new Intl.NumberFormat('en-PH', {\r\n    style: 'currency',\r\n    currency: 'PHP',\r\n  });\r\n\r\n  public dateFormatter = new Intl.DateTimeFormat('en-PH');\r\n\r\n  deleteTransaction() {\r\n    if (this.transaction == null)\r\n      return;\r\n\r\n    const ok = confirm(`Are you sure you want to delete transaction [${this.transaction.name}]`);\r\n\r\n    if (!ok)\r\n      return;\r\n\r\n    this.http.delete<ITransaction[]>(`/api/transaction/delete/${this.transaction.id}`).subscribe(result => {\r\n\r\n      if (this.transaction != null)\r\n        alert(`Transaction [${this.transaction.name}] record deleted.`);\r\n\r\n    }, error => console.error(error));\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}