{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ViewComponent = class ViewComponent {\n  constructor(http, activatedRoute, _router) {\n    this.http = http;\n    this.activatedRoute = activatedRoute;\n    this._router = _router;\n    this.currencyFormatter = new Intl.NumberFormat('en-PH', {\n      style: 'currency',\n      currency: 'PHP'\n    });\n    this.dateFormatter = new Intl.DateTimeFormat('en-PH');\n  }\n  ngOnInit() {\n    this.activatedRoute.paramMap.subscribe(params => {\n      const id = params.get(\"id\");\n      this.http.get(`/api/transaction/getbyid/${id}`).subscribe(result => {\n        this.transaction = result;\n        this.transaction.date = new Date(this.transaction.date);\n      }, error => {\n        this.errorMessage = error.error;\n        console.error(error);\n      });\n    });\n  }\n  deleteTransaction() {\n    if (this.transaction == null) return;\n    const ok = confirm(`Are you sure you want to delete transaction [${this.transaction.name}]`);\n    if (!ok) return;\n    this.http.delete(`/api/transaction/delete/${this.transaction.id}`).subscribe(result => {\n      if (this.transaction != null) {\n        alert(`Transaction [${this.transaction.name}] record deleted.`);\n        this._router.navigateByUrl('/');\n      }\n    }, error => console.error(error));\n  }\n};\nViewComponent = __decorate([Component({\n  selector: 'app-view',\n  templateUrl: './view.component.html'\n})], ViewComponent);\nexport { ViewComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAoBC,IAAgB,EAAUC,cAA8B,EAAUC,OAAe;IAAjF,SAAI,GAAJF,IAAI;IAAsB,mBAAc,GAAdC,cAAc;IAA0B,YAAO,GAAPC,OAAO;IAiBtF,sBAAiB,GAAG,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACxDC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;KACX,CAAC;IAEK,kBAAa,GAAG,IAAIH,IAAI,CAACI,cAAc,CAAC,OAAO,CAAC;EAtBkD;EAEzGC,QAAQ;IACN,IAAI,CAACP,cAAc,CAACQ,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MAC9C,MAAMC,EAAE,GAAGD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MAE3B,IAAI,CAACb,IAAI,CAACa,GAAG,CAAe,4BAA4BD,EAAE,EAAE,CAAC,CAACF,SAAS,CAACI,MAAM,IAAG;QAC/E,IAAI,CAACC,WAAW,GAAGD,MAAM;QACzB,IAAI,CAACC,WAAW,CAACC,IAAI,GAAG,IAAIC,IAAI,CAAC,IAAI,CAACF,WAAW,CAACC,IAAI,CAAC;MACzD,CAAC,EAAEE,KAAK,IAAG;QACT,IAAI,CAACC,YAAY,GAAGD,KAAK,CAACA,KAAK;QAC/BE,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IAEJ,CAAC,CAAC;EACJ;EASAG,iBAAiB;IACf,IAAI,IAAI,CAACN,WAAW,IAAI,IAAI,EAC1B;IAEF,MAAMO,EAAE,GAAGC,OAAO,CAAC,gDAAgD,IAAI,CAACR,WAAW,CAACS,IAAI,GAAG,CAAC;IAE5F,IAAI,CAACF,EAAE,EACL;IAEF,IAAI,CAACtB,IAAI,CAACyB,MAAM,CAAiB,2BAA2B,IAAI,CAACV,WAAW,CAACH,EAAE,EAAE,CAAC,CAACF,SAAS,CAACI,MAAM,IAAG;MAEpG,IAAI,IAAI,CAACC,WAAW,IAAI,IAAI,EAAE;QAC5BW,KAAK,CAAC,gBAAgB,IAAI,CAACX,WAAW,CAACS,IAAI,mBAAmB,CAAC;QAC/D,IAAI,CAACtB,OAAO,CAACyB,aAAa,CAAC,GAAG,CAAC;;IAEnC,CAAC,EAAET,KAAK,IAAIE,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC,CAAC;EACnC;CACD;AA9CYpB,aAAa,eAJzBD,SAAS,CAAC;EACT+B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE;CACd,CAAC,GACW/B,aAAa,CA8CzB;SA9CYA,aAAa","names":["Component","ViewComponent","constructor","http","activatedRoute","_router","Intl","NumberFormat","style","currency","DateTimeFormat","ngOnInit","paramMap","subscribe","params","id","get","result","transaction","date","Date","error","errorMessage","console","deleteTransaction","ok","confirm","name","delete","alert","navigateByUrl","selector","templateUrl"],"sourceRoot":"","sources":["C:\\Users\\christopherayroso\\source\\repos\\testgorilla-arcadian\\src\\WebApiAngular\\ClientApp\\src\\app\\view\\view.component.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ITransaction } from '../models/Transaction';\r\n\r\n@Component({\r\n  selector: 'app-view',\r\n  templateUrl: './view.component.html'\r\n})\r\nexport class ViewComponent {\r\n  public transaction?: ITransaction;\r\n  public id?: string;\r\n  public errorMessage?: string;\r\n\r\n  constructor(private http: HttpClient, private activatedRoute: ActivatedRoute, private _router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.paramMap.subscribe(params => {\r\n      const id = params.get(\"id\");\r\n\r\n      this.http.get<ITransaction>(`/api/transaction/getbyid/${id}`).subscribe(result => {\r\n        this.transaction = result;\r\n        this.transaction.date = new Date(this.transaction.date);\r\n      }, error => {\r\n        this.errorMessage = error.error;\r\n        console.error(error);\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  public currencyFormatter = new Intl.NumberFormat('en-PH', {\r\n    style: 'currency',\r\n    currency: 'PHP',\r\n  });\r\n\r\n  public dateFormatter = new Intl.DateTimeFormat('en-PH');\r\n\r\n  deleteTransaction() {\r\n    if (this.transaction == null)\r\n      return;\r\n\r\n    const ok = confirm(`Are you sure you want to delete transaction [${this.transaction.name}]`);\r\n\r\n    if (!ok)\r\n      return;\r\n\r\n    this.http.delete<ITransaction[]>(`/api/transaction/delete/${this.transaction.id}`).subscribe(result => {\r\n\r\n      if (this.transaction != null) {\r\n        alert(`Transaction [${this.transaction.name}] record deleted.`);\r\n        this._router.navigateByUrl('/');\r\n      }\r\n    }, error => console.error(error));\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}